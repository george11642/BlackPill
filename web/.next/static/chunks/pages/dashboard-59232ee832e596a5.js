(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[26],{528:function(e,t,s){(window.__NEXT_P=window.__NEXT_P||[]).push(["/dashboard",function(){return s(6401)}])},6401:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return m}});var a=s(5893),o=s(7294),l=s(1163),r=s(4715),n=s(1565),i=s(7017),d=s(5615),c=s(8793),x=s(4570),u=s(1712),h=s(3454);function m(){var e,t,s,m,f,p;let j=(0,l.useRouter)(),[v,N]=(0,o.useState)(null),[g,A]=(0,o.useState)([]),[C,y]=(0,o.useState)(!0),[F,w]=(0,o.useState)(null);async function E(){try{y(!0),w(null);let e=localStorage.getItem("token");if(!e){j.push("/");return}let t=h.env.NEXT_PUBLIC_API_URL||"";if(!t)throw Error("API URL not configured");let s=await fetch("".concat(t,"/api/creators/dashboard"),{headers:{Authorization:"Bearer ".concat(e),"Content-Type":"application/json"}});if(!s.ok){if(401===s.status){localStorage.removeItem("token"),j.push("/");return}throw Error("Failed to fetch dashboard data")}let a=await s.json();N(a);let o=await fetch("".concat(t,"/api/creators/performance"),{headers:{Authorization:"Bearer ".concat(e),"Content-Type":"application/json"}});if(!o.ok)throw Error("Failed to fetch performance data");let l=await o.json();A(l.daily_data||[]),y(!1)}catch(e){console.error("Failed to load dashboard:",e),w(e instanceof Error?e.message:"An error occurred"),y(!1)}}return((0,o.useEffect)(()=>{E()},[]),C)?(0,a.jsx)("div",{className:"min-h-screen bg-[#0F0F1E] flex items-center justify-center",children:(0,a.jsx)("div",{className:"text-white text-xl",children:"Loading dashboard..."})}):F?(0,a.jsx)("div",{className:"min-h-screen bg-[#0F0F1E] text-white flex items-center justify-center",children:(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)("h1",{className:"text-2xl font-bold mb-4",children:"Error Loading Dashboard"}),(0,a.jsx)("p",{className:"text-[#B8BACC] mb-6",children:F}),(0,a.jsx)("button",{onClick:()=>{localStorage.removeItem("token"),j.push("/")},className:"bg-gradient-to-r from-[#FF0080] to-[#00D9FF] hover:opacity-90 px-8 py-3 rounded-lg font-semibold transition",children:"Return to Home"})]})}):v?(0,a.jsx)("div",{className:"min-h-screen bg-[#0F0F1E] text-white",children:(0,a.jsxs)("div",{className:"max-w-7xl mx-auto px-4 py-8",children:[(0,a.jsxs)("div",{className:"mb-8",children:[(0,a.jsx)("h1",{className:"text-4xl font-bold mb-2",children:"Creator Dashboard"}),(0,a.jsx)("p",{className:"text-[#B8BACC]",children:"Track your affiliate performance"})]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6 mb-8",children:[(0,a.jsx)(b,{title:"Total Clicks",value:(null==v?void 0:null===(e=v.stats)||void 0===e?void 0:e.total_clicks)||0,icon:"\uD83D\uDC46"}),(0,a.jsx)(b,{title:"Conversions",value:(null==v?void 0:null===(t=v.stats)||void 0===t?void 0:t.total_conversions)||0,icon:"✅"}),(0,a.jsx)(b,{title:"Conversion Rate",value:"".concat((null==v?void 0:null===(s=v.stats)||void 0===s?void 0:s.conversion_rate)||0,"%"),icon:"\uD83D\uDCC8"}),(0,a.jsx)(b,{title:"Revenue (Month)",value:"$".concat((null==v?void 0:null===(m=v.stats)||void 0===m?void 0:m.revenue_this_month)||0),icon:"\uD83D\uDCB0"})]}),(0,a.jsxs)("div",{className:"bg-[#1A1A2E] border border-white/10 rounded-xl p-6 mb-8",children:[(0,a.jsx)("h2",{className:"text-xl font-semibold mb-4",children:"Your Affiliate Link"}),(0,a.jsxs)("div",{className:"flex gap-4",children:[(0,a.jsx)("input",{type:"text",value:(null==v?void 0:v.affiliate_link)||"",readOnly:!0,className:"flex-1 bg-[#2A2A3E] border border-white/10 rounded-lg px-4 py-3 font-mono"}),(0,a.jsx)("button",{onClick:()=>navigator.clipboard.writeText(null==v?void 0:v.affiliate_link),className:"bg-gradient-to-r from-[#FF0080] to-[#00D9FF] px-6 py-3 rounded-lg font-semibold hover:opacity-90",children:"Copy"})]})]}),(0,a.jsxs)("div",{className:"bg-[#1A1A2E] border border-white/10 rounded-xl p-6 mb-8",children:[(0,a.jsx)("h2",{className:"text-xl font-semibold mb-4",children:"Performance (Last 30 Days)"}),g&&g.length>0?(0,a.jsx)(r.h,{width:"100%",height:300,children:(0,a.jsxs)(n.w,{data:g,children:[(0,a.jsx)(i.q,{strokeDasharray:"3 3",stroke:"#2A2A3E"}),(0,a.jsx)(d.K,{dataKey:"date",stroke:"#6B6D7F"}),(0,a.jsx)(c.B,{stroke:"#6B6D7F"}),(0,a.jsx)(x.u,{contentStyle:{backgroundColor:"#1A1A2E",border:"1px solid rgba(255,255,255,0.1)",borderRadius:"8px"}}),(0,a.jsx)(u.x,{type:"monotone",dataKey:"clicks",stroke:"#00D9FF",strokeWidth:2,dot:{fill:"#00D9FF"}}),(0,a.jsx)(u.x,{type:"monotone",dataKey:"conversions",stroke:"#FF0080",strokeWidth:2,dot:{fill:"#FF0080"}})]})}):(0,a.jsx)("p",{className:"text-[#B8BACC]",children:"No performance data yet"})]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,a.jsxs)("div",{className:"bg-[#1A1A2E] border border-white/10 rounded-xl p-6",children:[(0,a.jsx)("h2",{className:"text-xl font-semibold mb-4",children:"Commission Details"}),(0,a.jsxs)("div",{className:"space-y-3",children:[(0,a.jsxs)("div",{className:"flex justify-between",children:[(0,a.jsx)("span",{className:"text-[#B8BACC]",children:"Tier"}),(0,a.jsx)("span",{className:"font-semibold uppercase",children:null==v?void 0:v.tier})]}),(0,a.jsxs)("div",{className:"flex justify-between",children:[(0,a.jsx)("span",{className:"text-[#B8BACC]",children:"Commission Rate"}),(0,a.jsxs)("span",{className:"font-semibold text-[#00FF41]",children:[(100*((null==v?void 0:v.commission_rate)||0)).toFixed(0),"%"]})]}),(0,a.jsxs)("div",{className:"flex justify-between",children:[(0,a.jsx)("span",{className:"text-[#B8BACC]",children:"Pending Payout"}),(0,a.jsxs)("span",{className:"font-semibold text-[#FF0080]",children:["$",(null==v?void 0:null===(f=v.stats)||void 0===f?void 0:f.payout_pending)||0]})]}),(0,a.jsxs)("div",{className:"flex justify-between",children:[(0,a.jsx)("span",{className:"text-[#B8BACC]",children:"Next Payout"}),(0,a.jsx)("span",{className:"font-semibold",children:null==v?void 0:null===(p=v.stats)||void 0===p?void 0:p.next_payout_date})]})]})]}),(0,a.jsxs)("div",{className:"bg-[#1A1A2E] border border-white/10 rounded-xl p-6",children:[(0,a.jsx)("h2",{className:"text-xl font-semibold mb-4",children:"Quick Actions"}),(0,a.jsxs)("div",{className:"space-y-3",children:[(0,a.jsx)("button",{className:"w-full bg-[#2A2A3E] hover:bg-[#3A3A4E] border border-white/10 rounded-lg px-4 py-3 text-left transition",children:"\uD83C\uDF9F️ Create Coupon Code"}),(0,a.jsx)("button",{className:"w-full bg-[#2A2A3E] hover:bg-[#3A3A4E] border border-white/10 rounded-lg px-4 py-3 text-left transition",children:"\uD83D\uDCE5 Download Marketing Assets"}),(0,a.jsx)("button",{className:"w-full bg-[#2A2A3E] hover:bg-[#3A3A4E] border border-white/10 rounded-lg px-4 py-3 text-left transition",children:"\uD83D\uDCCA Export Analytics"})]})]})]})]})}):(0,a.jsx)("div",{className:"min-h-screen bg-[#0F0F1E] text-white flex items-center justify-center",children:(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)("h1",{className:"text-2xl font-bold mb-4",children:"No Data Available"}),(0,a.jsx)("p",{className:"text-[#B8BACC]",children:"Please ensure your creator account is approved."})]})})}function b(e){let{title:t,value:s,icon:o}=e;return(0,a.jsxs)("div",{className:"bg-[#1A1A2E] border border-white/10 rounded-xl p-6",children:[(0,a.jsx)("div",{className:"text-3xl mb-2",children:o}),(0,a.jsx)("div",{className:"text-3xl font-bold mb-1 bg-gradient-to-r from-[#FF0080] to-[#00D9FF] bg-clip-text text-transparent",children:s}),(0,a.jsx)("div",{className:"text-[#B8BACC] text-sm",children:t})]})}}},function(e){e.O(0,[447,888,774,179],function(){return e(e.s=528)}),_N_E=e.O()}]);