(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[26],{528:function(e,t,s){(window.__NEXT_P=window.__NEXT_P||[]).push(["/dashboard",function(){return s(6401)}])},6401:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return u}});var a=s(5893),l=s(7294),o=s(1163),r=s(4715),i=s(1565),n=s(7017),d=s(5615),c=s(8793),x=s(4570),h=s(1712);function u(){var e,t,s,u,b,p;let f=(0,o.useRouter)(),[j,v]=(0,l.useState)(null),[N,g]=(0,l.useState)([]),[A,C]=(0,l.useState)(!0),[y,F]=(0,l.useState)(null);async function w(){try{C(!0),F(null);let e=localStorage.getItem("token");if(!e){f.push("/");return}let t="https://api.black-pill.app",s=await fetch("".concat(t,"/api/creators/dashboard"),{headers:{Authorization:"Bearer ".concat(e),"Content-Type":"application/json"}});if(!s.ok){if(401===s.status){localStorage.removeItem("token"),f.push("/");return}throw Error("Failed to fetch dashboard data")}let a=await s.json();v(a);let l=await fetch("".concat(t,"/api/creators/performance"),{headers:{Authorization:"Bearer ".concat(e),"Content-Type":"application/json"}});if(!l.ok)throw Error("Failed to fetch performance data");let o=await l.json();g(o.daily_data||[]),C(!1)}catch(e){console.error("Failed to load dashboard:",e),F(e instanceof Error?e.message:"An error occurred"),C(!1)}}return((0,l.useEffect)(()=>{w()},[]),A)?(0,a.jsx)("div",{className:"min-h-screen bg-[#0F0F1E] flex items-center justify-center",children:(0,a.jsx)("div",{className:"text-white text-xl",children:"Loading dashboard..."})}):y?(0,a.jsx)("div",{className:"min-h-screen bg-[#0F0F1E] text-white flex items-center justify-center",children:(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)("h1",{className:"text-2xl font-bold mb-4",children:"Error Loading Dashboard"}),(0,a.jsx)("p",{className:"text-[#B8BACC] mb-6",children:y}),(0,a.jsx)("button",{onClick:()=>{localStorage.removeItem("token"),f.push("/")},className:"bg-gradient-to-r from-[#FF0080] to-[#00D9FF] hover:opacity-90 px-8 py-3 rounded-lg font-semibold transition",children:"Return to Home"})]})}):j?(0,a.jsx)("div",{className:"min-h-screen bg-[#0F0F1E] text-white",children:(0,a.jsxs)("div",{className:"max-w-7xl mx-auto px-4 py-8",children:[(0,a.jsxs)("div",{className:"mb-8",children:[(0,a.jsx)("h1",{className:"text-4xl font-bold mb-2",children:"Creator Dashboard"}),(0,a.jsx)("p",{className:"text-[#B8BACC]",children:"Track your affiliate performance"})]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6 mb-8",children:[(0,a.jsx)(m,{title:"Total Clicks",value:(null==j?void 0:null===(e=j.stats)||void 0===e?void 0:e.total_clicks)||0,icon:"\uD83D\uDC46"}),(0,a.jsx)(m,{title:"Conversions",value:(null==j?void 0:null===(t=j.stats)||void 0===t?void 0:t.total_conversions)||0,icon:"✅"}),(0,a.jsx)(m,{title:"Conversion Rate",value:"".concat((null==j?void 0:null===(s=j.stats)||void 0===s?void 0:s.conversion_rate)||0,"%"),icon:"\uD83D\uDCC8"}),(0,a.jsx)(m,{title:"Revenue (Month)",value:"$".concat((null==j?void 0:null===(u=j.stats)||void 0===u?void 0:u.revenue_this_month)||0),icon:"\uD83D\uDCB0"})]}),(0,a.jsxs)("div",{className:"bg-[#1A1A2E] border border-white/10 rounded-xl p-6 mb-8",children:[(0,a.jsx)("h2",{className:"text-xl font-semibold mb-4",children:"Your Affiliate Link"}),(0,a.jsxs)("div",{className:"flex gap-4",children:[(0,a.jsx)("input",{type:"text",value:(null==j?void 0:j.affiliate_link)||"",readOnly:!0,className:"flex-1 bg-[#2A2A3E] border border-white/10 rounded-lg px-4 py-3 font-mono"}),(0,a.jsx)("button",{onClick:()=>navigator.clipboard.writeText(null==j?void 0:j.affiliate_link),className:"bg-gradient-to-r from-[#FF0080] to-[#00D9FF] px-6 py-3 rounded-lg font-semibold hover:opacity-90",children:"Copy"})]})]}),(0,a.jsxs)("div",{className:"bg-[#1A1A2E] border border-white/10 rounded-xl p-6 mb-8",children:[(0,a.jsx)("h2",{className:"text-xl font-semibold mb-4",children:"Performance (Last 30 Days)"}),N&&N.length>0?(0,a.jsx)(r.h,{width:"100%",height:300,children:(0,a.jsxs)(i.w,{data:N,children:[(0,a.jsx)(n.q,{strokeDasharray:"3 3",stroke:"#2A2A3E"}),(0,a.jsx)(d.K,{dataKey:"date",stroke:"#6B6D7F"}),(0,a.jsx)(c.B,{stroke:"#6B6D7F"}),(0,a.jsx)(x.u,{contentStyle:{backgroundColor:"#1A1A2E",border:"1px solid rgba(255,255,255,0.1)",borderRadius:"8px"}}),(0,a.jsx)(h.x,{type:"monotone",dataKey:"clicks",stroke:"#00D9FF",strokeWidth:2,dot:{fill:"#00D9FF"}}),(0,a.jsx)(h.x,{type:"monotone",dataKey:"conversions",stroke:"#FF0080",strokeWidth:2,dot:{fill:"#FF0080"}})]})}):(0,a.jsx)("p",{className:"text-[#B8BACC]",children:"No performance data yet"})]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,a.jsxs)("div",{className:"bg-[#1A1A2E] border border-white/10 rounded-xl p-6",children:[(0,a.jsx)("h2",{className:"text-xl font-semibold mb-4",children:"Commission Details"}),(0,a.jsxs)("div",{className:"space-y-3",children:[(0,a.jsxs)("div",{className:"flex justify-between",children:[(0,a.jsx)("span",{className:"text-[#B8BACC]",children:"Tier"}),(0,a.jsx)("span",{className:"font-semibold uppercase",children:null==j?void 0:j.tier})]}),(0,a.jsxs)("div",{className:"flex justify-between",children:[(0,a.jsx)("span",{className:"text-[#B8BACC]",children:"Commission Rate"}),(0,a.jsxs)("span",{className:"font-semibold text-[#00FF41]",children:[(100*((null==j?void 0:j.commission_rate)||0)).toFixed(0),"%"]})]}),(0,a.jsxs)("div",{className:"flex justify-between",children:[(0,a.jsx)("span",{className:"text-[#B8BACC]",children:"Pending Payout"}),(0,a.jsxs)("span",{className:"font-semibold text-[#FF0080]",children:["$",(null==j?void 0:null===(b=j.stats)||void 0===b?void 0:b.payout_pending)||0]})]}),(0,a.jsxs)("div",{className:"flex justify-between",children:[(0,a.jsx)("span",{className:"text-[#B8BACC]",children:"Next Payout"}),(0,a.jsx)("span",{className:"font-semibold",children:null==j?void 0:null===(p=j.stats)||void 0===p?void 0:p.next_payout_date})]})]})]}),(0,a.jsxs)("div",{className:"bg-[#1A1A2E] border border-white/10 rounded-xl p-6",children:[(0,a.jsx)("h2",{className:"text-xl font-semibold mb-4",children:"Quick Actions"}),(0,a.jsxs)("div",{className:"space-y-3",children:[(0,a.jsx)("button",{className:"w-full bg-[#2A2A3E] hover:bg-[#3A3A4E] border border-white/10 rounded-lg px-4 py-3 text-left transition",children:"\uD83C\uDF9F️ Create Coupon Code"}),(0,a.jsx)("button",{className:"w-full bg-[#2A2A3E] hover:bg-[#3A3A4E] border border-white/10 rounded-lg px-4 py-3 text-left transition",children:"\uD83D\uDCE5 Download Marketing Assets"}),(0,a.jsx)("button",{className:"w-full bg-[#2A2A3E] hover:bg-[#3A3A4E] border border-white/10 rounded-lg px-4 py-3 text-left transition",children:"\uD83D\uDCCA Export Analytics"})]})]})]})]})}):(0,a.jsx)("div",{className:"min-h-screen bg-[#0F0F1E] text-white flex items-center justify-center",children:(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)("h1",{className:"text-2xl font-bold mb-4",children:"No Data Available"}),(0,a.jsx)("p",{className:"text-[#B8BACC]",children:"Please ensure your creator account is approved."})]})})}function m(e){let{title:t,value:s,icon:l}=e;return(0,a.jsxs)("div",{className:"bg-[#1A1A2E] border border-white/10 rounded-xl p-6",children:[(0,a.jsx)("div",{className:"text-3xl mb-2",children:l}),(0,a.jsx)("div",{className:"text-3xl font-bold mb-1 bg-gradient-to-r from-[#FF0080] to-[#00D9FF] bg-clip-text text-transparent",children:s}),(0,a.jsx)("div",{className:"text-[#B8BACC] text-sm",children:t})]})}}},function(e){e.O(0,[363,888,774,179],function(){return e(e.s=528)}),_N_E=e.O()}]);